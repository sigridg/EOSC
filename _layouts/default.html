<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en-US' }}">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- SEO -->
    <title>{{ page.title | default: site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description | default: site.github.project_tagline }}">
    
    <!-- Styles -->
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    
    <!-- Favicon (optional) -->
    {% if site.favicon %}
    <link rel="icon" type="image/png" href="{{ site.favicon | relative_url }}">
    {% endif %}
</head>
<body>
    <div class="wrapper">
        <header>
            <h1><a href="{{ '/' | relative_url }}">{{ site.title | default: site.github.repository_name }}</a></h1>
            
            {% if site.logo %}
            <img src="{{ site.logo | relative_url }}" alt="Logo" />
            {% endif %}

            <p>{{ site.description | default: site.github.project_tagline }}</p>

            <!-- Navigation -->
            {% if site.header_pages %}
            <nav>
                <ul>
                {% for page in site.header_pages %}
                    <li><a href="{{ page | relative_url }}">{{ page | replace: '.md', '' | replace: '-', ' ' | capitalize }}</a></li>
                {% endfor %}
                </ul>
            </nav>
            {% endif %}

            <!-- GitHub Links -->
            {% if site.github.is_project_page %}
            <p class="view">
                <a href="{{ site.github.repository_url }}">View on GitHub</a>
            </p>
            {% endif %}

            {% if site.show_downloads %}
            <ul class="downloads">
                <li><a href="{{ site.github.zip_url }}">Download <strong>ZIP File</strong></a></li>
                <li><a href="{{ site.github.tar_url }}">Download <strong>TAR Ball</strong></a></li>
                <li><a href="{{ site.github.repository_url }}">View On <strong>GitHub</strong></a></li>
            </ul>
            {% endif %}
        </header>

        <section>
            {{ content }}
        </section>

        <footer>
            {% if site.github.is_project_page %}
            <p>This project is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a></p>
            {% endif %}
            <p><small>Last updated: {{ site.time | date: "%B %d, %Y" }}</small></p>
            {% if site.license %}
            <p><small>Licensed under {{ site.license }}</small></p>
            {% endif %}
        </footer>
    </div>

    <!-- Mermaid JS for diagram rendering -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });
    </script>
    {% endif %}
</body>
</html>
